<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <title>WinA</title>
    <link rel="stylesheet" type="text/css" href="css/api.css"/>
    <link rel="stylesheet" type="text/css" href="css/box.css"/>
    <script type="text/javascript" src="script/public.js"></script>
    <style>
    	.btn{display: block; border: 1px solid #000000; margin: 10px}


    </style>
    <script type="text/javascript">

var uzmoduledemo = null;
		var scrollPicture = null;
		var testdemo = null;
		var uexAn = null;
		var uexV5KeFu = null;
		apiready = function(){
	    	// uzmoduledemo = api.require('moduleDemo');
	    	// scrollPicture = api.require('scrollPicture');
	    	// testdemo = api.require('testDemo');
	    	// uexAn = api.require('uexAn');
	    	// uexV5KeFu = api.require('uexV5KeFu');
            api.addEventListener({
    name: 'keyback'
}, function(ret, err) {
    alert('按了返回键');
});

	    }

		<!--&lt;!&ndash;module_an_all&ndash;&gt;-->
		<!--&lt;!&ndash;module_an_all&ndash;&gt;-->
		<!--&lt;!&ndash;module_an_all&ndash;&gt;-->

        <!--&lt;!&ndash;将string写入txt&ndash;&gt;-->
	    function writeTxt2File(){
	        var param={filePath:'/storage/emulated/0/11111/',fileName:'test.txt',fileContent:'11写入文件的字符串'};
	        var listener = function (ret, err) {
                    alert("返回结果是:"+ JSON.stringify(ret));
             };
	        uexAn.stringWrite2Txt(param,listener);
	    }
        <!--&lt;!&ndash;通过包名判断app是否存在&ndash;&gt;-->
	    function checkAppExist(){
	        var param={packName:'com.taobao.taobao'};
	        var listener = function (ret, err) {
                    alert("返回结果是:"+ JSON.stringify(ret));
             };
	        uexAn.checkAppExist(param,listener);
	    }
        <!--&lt;!&ndash;获取渠道号&ndash;&gt;-->
	    function getChannel(){
	        var param={name:'aa'};
	        var listener = function (ret, err) {
                    alert("返回结果是:"+ JSON.stringify(ret));
             };
	        uexAn.getChannel(param,listener);
	    }
        <!--&lt;!&ndash;跳转播放视频页面&ndash;&gt;-->
	    function intoVideoPage(){
	        var param={videoPath:'http://www.haixingshuo.com/upload/haixingshuo.mp4',title:'我是标题'};

	        uexAn.intoVideoPage(param);
	    }

        <!--&lt;!&ndash;分享到朋友圈&ndash;&gt;-->
	    function shareToPYQ(){
	        var param={packName:'com.tencent.mm',
	                    className:'com.tencent.mm.ui.tools.ShareToTimeLineUI',
	                    other:'APP',
	                    other2:'APP分享',
	                    content:'分享到朋友圈的内容',
	                    type:'1',
	                    imgs:'["/storage/emulated/0/temp.png","/storage/emulated/0/temp1.png"]',
	                    otherType:'1'};

	        uexAn.getShare(param);
	    }
	    <!--&lt;!&ndash;分享到微信&ndash;&gt;-->
	    function shareToWX(){
	        var param={packName:'com.tencent.mm',
	                    className:'com.tencent.mm.ui.tools.ShareImgUI',
	                    other1:'APP',
	                    other2:'APP分享',
	                    content:'分享到微信好友的内容',
	                    type:'1',
	                    imgs:'["/storage/emulated/0/temp.png","/storage/emulated/0/temp1.png"]',
	                    otherType:'1'};

	        uexAn.getShare(param);
	    }
	    <!--&lt;!&ndash;分享到QQ&ndash;&gt;-->
	    function shareToQQ(){
	        var param={packName:'com.tencent.mobileqq',
	                    className:'com.tencent.mobileqq.activity.JumpActivity',
	                    other1:'APP',
	                    other2:'APP分享',
	                    content:'分享到QQ好友的内容',
	                    type:'1',
	                    imgs:'["/storage/emulated/0/temp.png","/storage/emulated/0/temp1.png"]',
	                    otherType:'1'};

	        uexAn.getShare(param);
	    }
	    <!--&lt;!&ndash;分享到朋友圈&ndash;&gt;-->
	    function shareToQZone(){
	        var param={packName:'com.qzone',
	                    className:'com.qzonex.module.operation.ui.QZonePublishMoodActivity',
	                    other1:'APP',
	                    other2:'APP分享',
	                    content:'分享到QQ空间的内容',
	                    type:'1',
	                    imgs:'["/storage/emulated/0/temp.png","/storage/emulated/0/temp1.png"]',
	                    otherType:'1'};

	        uexAn.getShare(param);
	    }
	    <!--&lt;!&ndash;根据url获取cookie&ndash;&gt;-->
	    function getCookie(){
	        var param={url:'https://detail.tmall.com/item.htm?id=565069904856&ali_refid=a3_430406_1007:1124100116:N:3117550967873418163_0_398240193112:7d4faa9b71af9610dda95098d076ea9d&ali_trackid=1_7d4faa9b71af9610dda95098d076ea9d&spm=a21bo.2017.201874-sales.15'};
	        var listener=function (ret,err) {
                    alert("返回结果是:"+ JSON.stringify(ret));
            };
	        uexAn.getCookie(param,listener);
	    }

	    <!--&lt;!&ndash;根据路径安装APK&ndash;&gt;-->
	    function installApk(){
	        var param={filePath:'/storage/emulated/0/Download/aili88-1.apk'};
	        uexAn.installApk(param);
	    }

        <!--&lt;!&ndash;module_v5kefu&ndash;&gt;-->
        <!--&lt;!&ndash;module_v5kefu&ndash;&gt;-->
        <!--&lt;!&ndash;module_v5kefu&ndash;&gt;-->
        <!--&lt;!&ndash;module_v5kefu&ndash;&gt;-->
        <!--&lt;!&ndash;module_v5kefu&ndash;&gt;-->
        <!--&lt;!&ndash;"country": "中国","province": "广东","city": "深圳"&ndash;&gt;-->
        function initV5kefu(){
            var param={"number":"159459","appid":"26ee30801421f"};
            uexV5KeFu.initV5kefu(param);
        }
	    function putParams(){
	        var param={"nickname":"小黑","openid":"123456","avatar":"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3078873712,1340878922&fm=27&gp=0.jpg","gender":"1","vip":"5","baseInfo":{},"customContent":{"用户名": "V5KF","用户级别": "VIP","用户积分": "3000"},"isUpdate":"1"};
	        uexV5KeFu.putParams(param);
	    }
	    function startKeFu(){
	        uexV5KeFu.startKeFu();
	    }


        function init_baichuan(){
            var uexBcWeb=api.require('uexBcWeb');
            var listener=function (ret,err) {
                if(ret){
                    alert("返回的是:"+ JSON.stringify(ret));
                }
            };
            uexBcWeb.init_baichuan(listener);
        }

	    function start_baichuan(){
	        var uexBcWeb=api.require('uexBcWeb');
	        var param={url:"https://item.taobao.com/item.htm?spm=a230r.1.14.51.3b876b889Sec5R&id=584104124796&ns=1&abbucket=5#detail"
               ,width:'0.8',height:'0.8',xPoi:'0',yPoi:'35',top:'1',userAgent:"alibaba",js:""
               ,interLists:'["https://shop.m.taobao.com/shop/shop_index.htm","https://h5.m.taobao.com/mlapp/cart.html"]'
               ,interUrl:true,orderNumber:true,startType:1}
            var listener=function (ret,err) {
                if(ret){
                    alert("返回的是:"+ JSON.stringify(ret));
                }
            };
	        uexBcWeb.start_baichuan(param,listener);
	    }

	    function login_tb(){
	    	var uexBcWeb=api.require('uexBcWeb');
	        var listener=function (ret,err) {
                alert("返回结果是:"+ JSON.stringify(ret));
            }
	        uexBcWeb.login_tb(listener);
	    }
	    function loginout_tb(){
	    	var uexBcWeb=api.require('uexBcWeb');
	        var listener=function (ret,err) {
                alert("返回结果是:"+ JSON.stringify(ret));
            }
	        uexBcWeb.loginout_tb(listener);
	    }

	    function start_shouTao(){
	        var param={url:'https://item.taobao.com/item.htm?spm=a230r.1.14.51.3b876b889Sec5R&id=584104124796&ns=1&abbucket=5#detail'
               ,adzoneid:'56782903',appkey:'23279133',pid:'aa',subpid:'bb',unionid:'cc',orderNumber:true,openState:true}
	    	var listener=function (ret,err) {
                if(ret){
                    alert("返回的是:"+ JSON.stringify(ret));
                }
            };
	    	var uexBcWeb=api.require('uexBcWeb');
	        uexBcWeb.start_shouTao(param,listener);
	    }

	    function openDefaultBcWeb(){
	        var param={url:'https://item.taobao.com/item.htm?spm=a230r.1.14.51.3b876b889Sec5R&id=584104124796&ns=1&abbucket=5#detail'
	                    ,orderNumber:true};
	        var listener=function (ret,err) {
                alert(123);
                if(ret){
                    alert("返回的是:"+ JSON.stringify(ret));
                }
            };
	        var uexBcWeb=api.require('uexBcWeb');
	        uexBcWeb.openDefaultBcWeb(param,listener);
	    }
        <!--&lt;!&ndash;京东直呼&ndash;&gt;-->
        <!--&lt;!&ndash;京东直呼&ndash;&gt;-->
        <!--&lt;!&ndash;京东直呼&ndash;&gt;-->
        <!--function initJDZH(){-->
            <!--var uexJDZH = api.require('uexJDZH');-->
	        <!--var param={key:'f6b9063eb09249b3b7a2f9c0a50b0ab2',miyao:'82f618148fdc454db68c86d5a1d971af'};-->
	        <!--uexJDZH.initJDZH(param);-->
        <!--}-->

        <!--function openJdAppByUrl(){-->
            <!--var uexJDZH = api.require('uexJDZH');-->
	        <!--var param={"url":'https://item.jd.com/3786840.html'}-->
	        <!--var listener=function(ret,err){-->
	            <!--if(ret){-->
	                <!--alert("成功返回结果是:"+ JSON.stringify(ret));-->
	            <!--}-->
	        <!--}-->
	        <!--uexJDZH.openJdAppByUrl(param,listener);-->
	    <!--}-->

	    <!--京东开普勒-->
	    <!--京东开普勒-->
	    <!--京东开普勒-->

	    function initKpl(){
	        var uexJD=api.require('uexJD');
	        var param={key:'8b2ec6043a8a4566b7fe8d40346df365',miyao:'82f618148fdc454db68c86d5a1d971af'};
	        var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
	        uexJD.initKpl(param,listener);
	    }

	    function openApp(){
	        var param={url:'https://item.jd.com/787623.html'};
	        var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
	        var uexJD=api.require('uexJD');
	        uexJD.openApp(param,listener);
	    }
	    function openUrl(){
	        var param={url:'https://item.jd.com/787623.html'};
	        var uexJD=api.require('uexJD');
	        uexJD.openUrl(param);

	    }

	    function shouquan(){
	        var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
	        var uexJD=api.require('uexJD');
	        uexJD.shouquan(listener);

	    }
	    function cancelShouquan(){
	        var uexJD=api.require('uexJD');
	        uexJD.cancelShouquan();

	    }

            <!--webview-->
            <!--webview-->
            <!--webview-->

	    function openView(){
	        var uexWebView=api.require('uexWebView');
	        var param={url:'https://mobile.yangkeduo.com/duo_coupon_landing.html?goods_id=6034628133&pid=1795940_18648299&customParameters=dd_100929_0&authDuoId=220007&cpsSign=CC1795940_18648299_206b7f656f1b30e6a86753b85f44f4da&duoduo_type=3',
	                   rect: {
                            x: 0,
                            y: 200,
                            w: 800,
                            h: '600'
                        },
                        intercept:[
                            'https://blog.csdn.net/shma1022/article/details/76191267',
                        ]};
             var listener=function(ret,err){
	            if(ret){
	                //state  0:开始  1：结束
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
	        uexWebView.openView(param,listener);
	    }

        //这个方法需要在openView后使用
	    function getTitle(){
             var uexWebView=api.require('uexWebView');
             var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	         }
             uexWebView.getTitle(listener);
	    }
	    //这个方法需要在openView后使用
	    function getProgress(){
             var uexWebView=api.require('uexWebView');
             var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	         }
             uexWebView.getProgress(listener);
	    }
	    function closeView(){
             var uexWebView=api.require('uexWebView');
             uexWebView.closeView();
	    }
	    function loadUrl(){
             var uexWebView=api.require('uexWebView');
             var param={url:'https://docs.apicloud.com/Client-API/Func-Ext/webBrowser'}
             uexWebView.loadUrl(param);
	    }
	    //这个方法需要在openView前使用
	    function loadScript(){
             var uexWebView=api.require('uexWebView');
             var param={script: 'alert(123)'};
             uexWebView.loadScript(param);
	    }
	    function historyBack(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.historyBack(listener);
	    }
	    function historyForward(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.historyForward(listener);
	    }
	    function getUA(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.getUA(listener);
	    }
	    function getCookie(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.getCookie(listener);
	    }
	    function getCurUrl(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.getCurUrl(listener);
	    }
	    function getWidth(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.getWidth(listener);
	    }

	    function getHeight(){
             var uexWebView=api.require('uexWebView');
              var listener=function(ret,err){
	            if(ret){
	                alert("返回结果是:"+ JSON.stringify(ret));
	            }
	        }
             uexWebView.getHeight(listener);
	    }

	    function setUA(){
             var uexWebView=api.require('uexWebView');
             var param={ua: 'bbbbbbb'};
             uexWebView.setUA(param);
	    }
	    function setProgressColor(){
             var uexWebView=api.require('uexWebView');
             var param={color: '#ff0000'};
             uexWebView.setProgressColor(param);
	    }














    </script>
</head>
<body>
<div id="wrap">
    <h1>系统分享</h1>
    <div class="uexAn">
        <div class="module_an_all">
            <input class="btn" type="button" value="将string写入txt"
                   onclick="writeTxt2File();"><br>

            <input class="btn" type="button" value="判断app是否存在"
                   onclick=checkAppExist()><br>
            <input class="btn" type="button" value="获取渠道号"
                   onclick=getChannel()><br>

            <input class="btn" type="button" value="跳转播放视频"
                   onclick=intoVideoPage()><br>
        </div>

        <div class="module_an_share">
            <input class="btn" type="button" value="分享朋友圈1"
                   onclick=shareToPYQ()><br>
            <input class="btn" type="button" value="分享微信"
                   onclick=shareToWX()><br>
            <input class="btn" type="button" value="分享QQ"
                   onclick=shareToQQ()><br>
            <input class="btn" type="button" value="分享QQ空间"
                   onclick=shareToQZone()><br>

        </div>

        <input class="btn" type="button" value="获取cookie"
               onclick=getCookie()><br>

        <input class="btn" type="button" value="根据绝对路径安装apk"
               onclick="installApk();"><br>
    </div>
    <br/>
    <h1>v5客服</h1>
    <div class="V5KeFU">
        <input class="btn" type="button" value="初始化客服系统"
               onclick="initV5kefu();"><br>
        <input class="btn" type="button" value="传入启动客服系统的参数"
               onclick="putParams();"><br>
        <input class="btn" type="button" value="启动客服系统"
               onclick="startKeFu();"><br>
    </div>
    <br/>
    <h1>阿里百川</h1>
    <div class="AliBc">

        <input class="btn" type="button" value="初始化百川"
               onclick="init_baichuan()"><br>
        <input class="btn" type="button" value="通过百川打开淘宝商品页面"
               onclick="start_baichuan()"><br>
        <input class="btn" type="button" value="淘宝登陆"
               onclick="login_tb();"><br>
        <input class="btn" type="button" value="淘宝登出"
               onclick="loginout_tb();"><br>
        <input class="btn" type="button" value="打开手淘"
               onclick="start_shouTao();"><br>
        <input class="btn" type="button" value="打开默认百川"
               onclick="openDefaultBcWeb();"><br>

    </div>
    <br/>
    <h1>京东直呼</h1>
    <input class="btn" type="button" value="初始化京东直呼"
           onclick=initJDZH()><br>
    <input class="btn" type="button" value="打开直呼京东app"
           onclick=openJdAppByUrl()><br>

    <br/>
    <h1>京东开普勒</h1>
    <div class="jdkpl">

        <input class="btn" type="button" value="初始化京东开普勒"
               onclick=initKpl()><br>
        <input class="btn" type="button" value="打开webview"
               onclick=openUrl()><br>
        <input class="btn" type="button" value="打开app"
               onclick=openApp()><br>
        <input class="btn" type="button" value="授权"
               onclick=shouquan()><br>
        <input class="btn" type="button" value="取消授权"
               onclick=cancelShouquan()><br>


    </div>


    <h1>自定义webview</h1>
    <div class="webview">

        <input class="btn" type="button" value="打开webview"
               onclick=openView()><br>
        <input class="btn" type="button" value="关闭webview"
               onclick=closeView()><br>
        <input class="btn" type="button" value="加载url"
               onclick=loadUrl()><br>
        <input class="btn" type="button" value="加载javascript"
               onclick=loadScript()><br>
        <input class="btn" type="button" value="后退一页"
               onclick=historyBack()><br>
        <input class="btn" type="button" value="前进一页"
               onclick=historyForward()><br>
        <input class="btn" type="button" value="得到标题"
               onclick='getTitle()'><br>
        <input class="btn" type="button" value="得到当前加载进度"
               onclick='getProgress()'><br>
        <input class="btn" type="button" value="得到ua"
               onclick='getUA()'><br>
        <input class="btn" type="button" value="设置ua"
               onclick='setUA()'><br>
        <input class="btn" type="button" value="得到cookie"
               onclick='getCookie()'><br>
        <input class="btn" type="button" value="设置进度条颜色"
               onclick='setProgressColor()'><br>
        <input class="btn" type="button" value="得到当前url"
               onclick='getCurUrl()'><br>
        <input class="btn" type="button" value="得到宽度"
               onclick='getWidth()'><br>
        <input class="btn" type="button" value="得到高度"
               onclick='getHeight()'><br>
    </div>

</div>
</body>
</html>
