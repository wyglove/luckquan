apicldou框架笔记:

文件规范：
1，所有的html文件放在/html文件夹内，js放在/script内，css放在/css内，html内的应用图片放在/image内，APP插件使用的图片放在/res/img内
2，html文件要么是窗口文件，要么是浮动层文件，如果是浮动层文件，要加_frm，如index/index_frm.html
3，每个控制器的首页文件，用控制器名命名，如user的首页，是user/user_frm.html，而不是user/index_frm.html

主题更新的实现逻辑：
1，将所有文件下载到fs目录内，打开文件的目录使用fs的路径，即可实现主题更新（已经存在于app内的文件是不能被修改的）
2，步骤1会造成，外部环境可以轻松获取到所有文件，所以至少把api.js这个最重要的文件，要放在在app内，不从外部坏境获取
3，苹果手机可以用绝对路径（widget://）,但是安卓不行，所以一开始需要把一些资源文件复制到fs://里一份，否则主题文件无法读取
4，严格来说，只需要复制script/api.js即可，把其他一般不会变化的文件复制是为了减少主题包的大小。

代码使用：
每页窗口或者浮动层，都有一个名字，在整个app中，窗口和浮动层的名字，不能重复，如果在A窗口中运行打开A窗口的代码，将没有任何效果。
1，打开窗口 openWin({'mod':'模块','act':'行为'}) 如openWin({'mod':'root','act':'header'})
2，打开浮动层 openFrame({'mod':'模块','act':'行为'}) 如openFrame({'mod':'user','act':'index_frm'});
3，打开新页面:
1）最简形式：openPage('模块','行为');
2）预先设置标题：openPage(['模块','行为','标题']); 一般标题都会由打开的页面自己控制，但是这样会慢0.1秒，预先设置标题只是为了优化这里很小的细节
3）完整形式：openPage('模块','行为','随机名','是否有头部','动画','标题')
随机名是用来A窗口打开A窗口用的，使用场景：商品详情页里在打开一个商品详情页。
是否有头部就是字面意思，打开的新页面是否需要一个默认的头部。此时会有一个疑问，如果不需要头部，那么直接打开一个窗口不就好了吗，这样做是因为，苹果X底部
有安全区域，这样用公共文件，底部的安全区域会自动计算
4，苹果打开页面有2种方式，一种普通的，一种是高级的（wkwebview），高级方式支持图片懒加载，但是窗口页面用wkwebview又有很多未知bug，这两种方式之间，不能用set传递参数（因为set的本质是H5的本地存储
2种方式内核不同，所以不能共享数据）页面之间传递数据，是用setPageParam(k,v)
5，窗口名和浮动层名，openPage('page','set');窗口名是page_set，浮动层名是page_set_frm
6，会员信息userInfo用的是偏好设置，但是发现如果内容比较大，就出现无法删除和修改的问题（当前有用，重启后发现删除和修改没用），所以userinfo的存储定义了哪些字段，减少内容长度
